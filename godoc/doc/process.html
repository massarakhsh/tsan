<!--{
	"Title": "Процессы",
	"Path":  "/process/"
}-->

<h2>Общая структура</h2>

<p>
    Основная часть системы разработана на языке Go, и конструктивно выполнена как программа,
    запускаемая на сервере и формирующая сайт в интернете, предназначенный для использования
    любого стандартного браузера. Предоставляются и другие сервисы по протоколу HTTP и стандартам REST.
</p>

<p>
    Откомпилированный и собранный двоичный файл программы запускается как служба.<br>
    При запуске программа открывает и, если необходимо, настраивает таблицы базы данных,
    создаёт очереди и задачи, открывает порты внешних сервисов.
</p>

<h2>Веб - сервер</h2>
<p>
    Для внешних запросов программа включает собственный веб - сервер, но для доступа клиентов к системе
    предпочтительно использовать прозрачный стандартный прокси - сервер, роль которого могут выполнить,
    например, Apache или Nginx.
</p>

<p>
    Функции кэширования при этом не требуются, так как основные данные,
    формируемы в системе, динамические и кэшируются в ней самой. Проксирование не является необходимым, но
    повышает безопасность и устойчивость сервера к внешним атакам.
</p>

<p>
    Другой причиной рекомендации использовать прокси - сервер является то, что в целях унификации
    средств безопасности встроенный шлюз поддерживает только HTTP - протокол без SSL. Подстановка
    и проверка сертификатов при этом может производиться стандартными средствами, поддерживая те протоколы,
    которые приняты на данном сервере.
</p>

<p>
    При использовании прокси - сервера собственные порты программы рекомендуется закрыть файерволом.
</p>

<h2>Интерфейсы</h2>
<p>
    Основные внешние сервисы система предоставляет как веб - сервер через единую входную точку на
    выделенном порту.
</p>

<p>
    Кроме того, взаимодействие с системой может осуществляться через некоторые таблицы базы данных.
</p>

<p>
    Таблица calls используется для взаимодействия с сервисами телефонной станции. Записи этой таблицы
    содержат информацию о текущих звонках: исходящий и целевой телефонный номер, внутренний номер
    мультиканала, время и состояние соединения. Создание и измкенение записей осуществляется сервисом
    телефонной станции, а наблюдение и обработка - системой риэлтор.
</p>

<h2>Перезапуск системы</h2>
<p>
    Служба системы может быть перезапущена в любой момент, например, для обновления.
    Система устроена таким образом, что операторы и другие клиенты при этом могут продолжать работу,
    интерфейсы и соединения не сбрасываются, но некоторые данные при этом могут быть потеряны,
    например, текущие редактируемые поля.
</p>
